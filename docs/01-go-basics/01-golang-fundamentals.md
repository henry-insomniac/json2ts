# ğŸ“˜ Go è¯­è¨€å…¥é—¨åŸºç¡€

> ä¸ºå®Œå…¨æ²¡æœ‰æ¥è§¦è¿‡ Go è¯­è¨€çš„æ–°æ‰‹å‡†å¤‡çš„åŸºç¡€æ•™ç¨‹

## ğŸŒŸ Go è¯­è¨€æ˜¯ä»€ä¹ˆï¼Ÿ

Goï¼ˆä¹Ÿç§° Golangï¼‰æ˜¯ Google å¼€å‘çš„å¼€æºç¼–ç¨‹è¯­è¨€ï¼Œç‰¹åˆ«é€‚åˆï¼š
- **åç«¯æœåŠ¡å™¨å¼€å‘** 
- **å‘½ä»¤è¡Œå·¥å…·**ï¼ˆæˆ‘ä»¬çš„ json2ts å°±æ˜¯è¿™ç§ï¼‰
- **ç³»ç»Ÿç¼–ç¨‹**
- **äº‘åŸç”Ÿåº”ç”¨**

## ğŸ”‘ Go è¯­è¨€çš„æ ¸å¿ƒç‰¹ç‚¹

### 1. é™æ€ç±»å‹ + ç®€æ´è¯­æ³•
```go
// Go ä¸­å£°æ˜å˜é‡çš„æ–¹å¼
var name string = "json2ts"    // å®Œæ•´å£°æ˜
var age = 25                   // ç±»å‹æ¨æ–­
title := "å·¥å…·"                 // çŸ­å£°æ˜ï¼ˆæœ€å¸¸ç”¨ï¼‰
```

### 2. å¼ºå¤§çš„ç±»å‹ç³»ç»Ÿ
```go
// åŸºç¡€ç±»å‹
var text string = "hello"      // å­—ç¬¦ä¸²
var count int = 42             // æ•´æ•°
var price float64 = 3.14       // æµ®ç‚¹æ•°
var isActive bool = true       // å¸ƒå°”å€¼
```

### 3. æŒ‡é’ˆä½†ä¸å¤æ‚
```go
// æŒ‡é’ˆï¼šå­˜å‚¨å˜é‡çš„å†…å­˜åœ°å€
var x int = 10
var p *int = &x    // p æ˜¯æŒ‡å‘ x çš„æŒ‡é’ˆ
fmt.Println(*p)    // *p è·å–æŒ‡é’ˆæŒ‡å‘çš„å€¼ï¼Œè¾“å‡ºï¼š10
```

## ğŸ“¦ åŒ…å’Œå¯¼å…¥

### ä»€ä¹ˆæ˜¯åŒ…ï¼ˆPackageï¼‰ï¼Ÿ
**åŒ…**æ˜¯ Go ä»£ç ç»„ç»‡çš„åŸºæœ¬å•ä½ï¼Œç±»ä¼¼å…¶ä»–è¯­è¨€çš„"æ¨¡å—"æˆ–"å‘½åç©ºé—´"ï¼š

```go
package main           // å£°æ˜è¿™ä¸ªæ–‡ä»¶å±äº main åŒ…

import (              // å¯¼å…¥å…¶ä»–åŒ…
    "fmt"             // æ ¼å¼åŒ–è¾“å‡ºåŒ…
    "os"              // æ“ä½œç³»ç»Ÿæ¥å£åŒ…
    "encoding/json"   // JSON å¤„ç†åŒ…
)
```

### åŒ…çš„è§„åˆ™
- `package main` - è¡¨ç¤ºè¿™æ˜¯å¯æ‰§è¡Œç¨‹åº
- `func main()` - ç¨‹åºçš„å…¥å£å‡½æ•°
- æ¯ä¸ª `.go` æ–‡ä»¶éƒ½å¿…é¡»å£°æ˜å±äºå“ªä¸ªåŒ…

## ğŸ—ï¸ å‡½æ•°åŸºç¡€

### å‡½æ•°å®šä¹‰è¯­æ³•
```go
// åŸºæœ¬æ ¼å¼ï¼šfunc å‡½æ•°å(å‚æ•°) è¿”å›ç±»å‹ { å‡½æ•°ä½“ }
func greet(name string) string {
    return "Hello, " + name
}

// å¤šè¿”å›å€¼ï¼ˆGo çš„ç‰¹è‰²åŠŸèƒ½ï¼‰
func divide(a, b int) (int, error) {
    if b == 0 {
        return 0, errors.New("é™¤æ•°ä¸èƒ½ä¸ºé›¶")
    }
    return a / b, nil
}
```

### åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­
```go
// æˆ‘ä»¬çš„ç±»å‹æ¨æ–­å‡½æ•°
func toTSType(val interface{}) string {
    // æ¥æ”¶ä»»æ„ç±»å‹ï¼Œè¿”å›å­—ç¬¦ä¸²
    switch val.(type) {
    case string:
        return "string"
    case float64:
        return "number"
    }
}
```

## ğŸ”„ æ§åˆ¶ç»“æ„

### if è¯­å¥
```go
// Go çš„ if è¯­å¥å¾ˆå¹²å‡€ï¼Œä¸éœ€è¦æ‹¬å·
if len(os.Args) < 2 {
    fmt.Println("Usage: json2ts <file>")
    return
}

// if è¯­å¥å¯ä»¥åŒ…å«åˆå§‹åŒ–
if err := json.Unmarshal(data, &v); err != nil {
    // å¤„ç†é”™è¯¯
}
```

### for å¾ªç¯
```go
// Go åªæœ‰ for å¾ªç¯ï¼Œä½†å¾ˆçµæ´»

// ä¼ ç»Ÿ for å¾ªç¯
for i := 0; i < 10; i++ {
    fmt.Println(i)
}

// éå†åˆ‡ç‰‡/æ•°ç»„
for index, value := range slice {
    fmt.Printf("ç´¢å¼•: %d, å€¼: %v\n", index, value)
}

// éå†å­—å…¸
for key, value := range map {
    fmt.Printf("é”®: %s, å€¼: %v\n", key, value)
}
```

### switch è¯­å¥
```go
// Go çš„ switch ä¸éœ€è¦ break
switch val.(type) {
case string:
    return "string"
case float64:
    return "number"
case bool:
    return "boolean"
default:
    return "any"
}
```

## â— é”™è¯¯å¤„ç†

### Go çš„é”™è¯¯å¤„ç†å“²å­¦
Go ä¸ä½¿ç”¨å¼‚å¸¸ï¼ˆtry/catchï¼‰ï¼Œè€Œæ˜¯å°†é”™è¯¯ä½œä¸ºè¿”å›å€¼ï¼š

```go
// æ ‡å‡†æ¨¡å¼ï¼šè¿”å›ç»“æœå’Œé”™è¯¯
data, err := os.ReadFile("file.json")
if err != nil {
    // å¤„ç†é”™è¯¯
    fmt.Println("è¯»å–æ–‡ä»¶å¤±è´¥:", err)
    return
}
// ä½¿ç”¨ data
```

### ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ
- **æ˜¾å¼é”™è¯¯å¤„ç†**ï¼šå¼ºåˆ¶å¼€å‘è€…è€ƒè™‘é”™è¯¯æƒ…å†µ
- **ä»£ç æ›´æ¸…æ™°**ï¼šä¸€çœ¼å°±èƒ½çœ‹å‡ºå“ªé‡Œå¯èƒ½å‡ºé”™
- **æ€§èƒ½æ›´å¥½**ï¼šä¸éœ€è¦å¼‚å¸¸æ ˆçš„å¼€é”€

## ğŸ§© æ¥å£ï¼ˆinterface{}ï¼‰

### ç©ºæ¥å£çš„é­”æ³•
```go
// interface{} è¡¨ç¤º"ä»»æ„ç±»å‹"
var anything interface{}
anything = "hello"     // å¯ä»¥æ˜¯å­—ç¬¦ä¸²
anything = 42          // å¯ä»¥æ˜¯æ•°å­—
anything = []int{1,2}  // å¯ä»¥æ˜¯åˆ‡ç‰‡
```

### ç±»å‹æ–­è¨€
```go
// æ£€æŸ¥æ¥å£ä¸­çš„å…·ä½“ç±»å‹
switch v := val.(type) {
case string:
    fmt.Println("è¿™æ˜¯å­—ç¬¦ä¸²:", v)
case int:
    fmt.Println("è¿™æ˜¯æ•´æ•°:", v)
case []interface{}:
    fmt.Println("è¿™æ˜¯æ•°ç»„:", v)
}
```

## ğŸ’¡ å®é™…ä¾‹å­ï¼šåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­

```go
// æˆ‘ä»¬é¡¹ç›®ä¸­çš„å®é™…åº”ç”¨
func toTSType(val interface{}) string {
    // val æ˜¯ç©ºæ¥å£ï¼Œå¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹
    switch v := val.(type) {          // ç±»å‹æ–­è¨€
    case string:                      // å¦‚æœæ˜¯å­—ç¬¦ä¸²
        return "string"
    case float64:                     // JSON æ•°å­—éƒ½æ˜¯ float64
        return "number"
    case []interface{}:               // æ•°ç»„ç±»å‹
        // é€’å½’å¤„ç†æ•°ç»„å…ƒç´ 
        return handleArray(v)
    default:                          // å…¶ä»–æƒ…å†µ
        return "any"
    }
}
```

## ğŸ¯ å°ç»“

ç»è¿‡è¿™ä¸€ç« ï¼Œä½ åº”è¯¥ç†è§£äº†ï¼š

1. **Go çš„åŸºæœ¬è¯­æ³•**ï¼šå˜é‡å£°æ˜ã€å‡½æ•°å®šä¹‰
2. **åŒ…ç³»ç»Ÿ**ï¼šå¦‚ä½•ç»„ç»‡å’Œå¯¼å…¥ä»£ç 
3. **æ§åˆ¶ç»“æ„**ï¼šifã€forã€switch çš„ç”¨æ³•
4. **é”™è¯¯å¤„ç†**ï¼šGo ç‹¬ç‰¹çš„é”™è¯¯å¤„ç†æ–¹å¼
5. **æ¥å£æ¦‚å¿µ**ï¼š`interface{}` çš„å¼ºå¤§ä¹‹å¤„
6. **ç±»å‹æ–­è¨€**ï¼šå¦‚ä½•åˆ¤æ–­æ¥å£ä¸­çš„å…·ä½“ç±»å‹

è¿™äº›æ¦‚å¿µåœ¨æˆ‘ä»¬æ”¹è¿›ç±»å‹æ¨æ–­å¼•æ“æ—¶éƒ½æœ‰ä½“ç°ï¼

---

**ä¸‹ä¸€ç« **ï¼š[æ•°æ®ç±»å‹å’Œå˜é‡è¯¦è§£](02-data-types-variables.md) ğŸš€